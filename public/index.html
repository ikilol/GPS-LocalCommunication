<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>dew</title>

	<script src="/socket.io/socket.io.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js"></script>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
	<style>
		#map { height: 900px; }
	</style>
	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
	integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
	crossorigin=""></script>

<body>
	<div id="map"></div>
	<script>
	         var mapOptions = {
            center: [45.4721, 9.1772],
            zoom: 17
         }

         var map = new L.map('map', mapOptions);
         var layer = new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png');
         map.addLayer(layer);

var lat;
var lon;
var socket; 

function setup(){
  //socket = io.connect(location.protocol + '//' + location.host);
  noCanvas();
}

function draw() {
    navigator.geolocation.getCurrentPosition(getposition, geoError);
    console.log(lat, lon);
    //socket.on('location', newText);

			var marker = L.marker([45.4721, 9.1772]);
			marker.addTo(map);

			console.log("fuck");

			var marker2 = L.marker([45.4721, 9.1772]);
			marker2.addTo(map);

  }

function getposition(position) {
    lat = position.coords.latitude
    lon = position.coords.longitude

    var data = {
      x: lat,
      y: lon
    }
    //socket.emit('location', data)
  }

  function geoError(err) {
    console.log('error', err);
  }
	</script>
 
</body>

</html>
